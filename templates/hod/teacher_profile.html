{% extends "hod/base_hod.html" %}

{% block title %}Teacher Profile - SPAS{% endblock %}

{% block header_title %}Teacher Profile{% endblock %}
{% block header_subtitle %}View teacher details and assignments{% endblock %}

{% block content %}
<div class="row">
    <div class="col-md-4">
        <div class="card text-center">
            <div class="card-body">
                <div class="profile-image mb-3">
                    <div class="profile-avatar mx-auto" style="width: 120px; height: 120px; background: linear-gradient(135deg, #6f42c1, #9b59b6); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                        <span class="display-4 text-white">{{ teacher.full_name[0] }}</span>
                    </div>
                </div>
                <h4 class="mb-1">{{ teacher.full_name }}</h4>
                <p class="text-muted mb-2">@{{ teacher.username }}</p>
                <div class="badge bg-purple mb-3 p-2">
                    <i class="fas fa-chalkboard-teacher me-1"></i>Teacher
                </div>
                
                <hr>
                
                <div class="text-start">
                    <p><i class="fas fa-envelope text-purple me-2"></i> {{ teacher.email }}</p>
                    <p><i class="fas fa-phone text-purple me-2"></i> {{ teacher.phone or 'Not provided' }}</p>
                    <p><i class="fas fa-building text-purple me-2"></i> {{ department.name }}</p>
                    <p><i class="fas fa-calendar text-purple me-2"></i> Joined: {{ teacher.created_at.strftime('%d %b, %Y') }}</p>
                </div>
            </div>
        </div>
    </div>
    
    <div class="col-md-8">
        <div class="card">
            <div class="card-header bg-purple text-white">
                <h5 class="mb-0"><i class="fas fa-book me-2"></i>Assigned Subjects</h5>
            </div>
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Subject</th>
                                <th>Code</th>
                                <th>Semester</th>
                                <th>Credits</th>
                                <th>Assigned On</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for assignment, subject in subjects %}
                            <tr>
                                <td>{{ subject.name }}</td>
                                <td>{{ subject.code }}</td>
                                <td>Semester {{ subject.semester_id }}</td>
                                <td>{{ subject.credits }}</td>
                                <td>{{ assignment.created_at.strftime('%d %b, %Y') }}</td>
                            </tr>
                            {% else %}
                            <tr>
                                <td colspan="5" class="text-center text-muted">No subjects assigned</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}